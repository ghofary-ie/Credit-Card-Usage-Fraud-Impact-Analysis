<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1" />
    <meta name="color-scheme" content="light" />
    <title>Credit Card Usage &amp; Fraud Impact Analysis (Draft)</title>

    <!-- Prism CSS (syntax highlighting) -->
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/prismjs/themes/prism.min.css" />
    
    <!-- Plotly.js -->
    <script src="https://cdn.plot.ly/plotly-latest.min.js"></script>


    <style>
      :root {
        --accent-h: 152;
        --accent-s: 60%;
        --accent-l: 42%;
        --accent: hsl(var(--accent-h), var(--accent-s), var(--accent-l));
        --accent-600: hsl(var(--accent-h), calc(var(--accent-s) + 8%), calc(var(--accent-l) - 4%));
        --accent-300: hsl(var(--accent-h), calc(var(--accent-s) - 15%), 70%);
        --ink: #0f2a1e;
        --ink-soft: #25563f;
        --bg-start: #f2fcf6;
        --bg-end: #e7f7ef;
        --glass-fill-1: rgba(255, 255, 255, 0.55);
        --glass-fill-2: rgba(255, 255, 255, 0.32);
        --glass-border: rgba(255, 255, 255, 0.55);
        --shadow: 0 10px 30px rgba(34, 197, 94, 0.18), 0 2px 8px rgba(17, 94, 50, 0.08);
        --radius-xl: 20px;
        --radius-lg: 16px;
      }

      * { box-sizing: border-box; }
      html, body { height: 100%; }

      body {
        margin: 0;
        font-family: ui-sans-serif, system-ui, -apple-system, "SF Pro Display", "Segoe UI", Roboto, Helvetica, Arial, "Apple Color Emoji", "Segoe UI Emoji";
        color: var(--ink);
        background:
          radial-gradient(1200px 800px at -10% -20%, rgba(34, 197, 94, 0.18), transparent 60%),
          radial-gradient(900px 700px at 110% -10%, rgba(52, 211, 153, 0.16), transparent 60%),
          radial-gradient(900px 700px at 50% 120%, rgba(74, 222, 128, 0.14), transparent 60%),
          linear-gradient(180deg, var(--bg-start), var(--bg-end));
        background-attachment: fixed;
        -webkit-font-smoothing: antialiased;
        -moz-osx-font-smoothing: grayscale;
      }

      .container { max-width: 1100px; margin: 6vh auto 8vh; padding: 0 24px; }

      .hero {
        position: relative;
        border-radius: var(--radius-xl);
        background: linear-gradient(135deg, var(--glass-fill-1), var(--glass-fill-2));
        backdrop-filter: blur(16px) saturate(160%);
        -webkit-backdrop-filter: blur(16px) saturate(160%);
        border: 1px solid var(--glass-border);
        box-shadow: var(--shadow);
        padding: 40px 32px;
        overflow: hidden;
      }

      .hero::after {
        content: "";
        position: absolute;
        inset: 0;
        border-radius: inherit;
        background: radial-gradient(600px 300px at 0% 0%, rgba(34, 197, 94, 0.22), transparent 50%),
                    radial-gradient(800px 400px at 100% 0%, rgba(16, 185, 129, 0.18), transparent 55%);
        pointer-events: none;
        mix-blend-mode: soft-light;
      }

      .badge {
        display: inline-block;
        padding: 8px 12px;
        border-radius: 999px;
        background: linear-gradient(180deg, rgba(16, 185, 129, 0.15), rgba(16, 185, 129, 0.10));
        border: 1px solid rgba(16, 185, 129, 0.25);
        color: var(--ink-soft);
        font-weight: 600;
        letter-spacing: 0.2px;
        font-size: 12px;
        backdrop-filter: blur(6px);
        -webkit-backdrop-filter: blur(6px);
      }

      h1.title {
        margin: 14px 0 10px;
        font-size: clamp(28px, 5vw, 46px);
        line-height: 1.08;
        letter-spacing: -0.02em;
        background: linear-gradient(90deg, var(--accent-600) 0%, hsl(var(--accent-h), 70%, 45%) 45%, #86efac 100%);
        -webkit-background-clip: text;
        background-clip: text;
        -webkit-text-fill-color: transparent;
        color: transparent;
        text-shadow: 0 8px 30px rgba(16, 185, 129, 0.25);
        font-weight: 800;
      }

      .author {
        margin: 6px 0 8px;
        font-weight: 700;
        color: rgba(15, 42, 30, 0.85);
        letter-spacing: 0.2px;
      }

      .lead {
        margin: 0 0 14px;
        font-size: 15px;
        line-height: 1.7;
        color: rgba(15, 42, 30, 0.78);
        text-align: justify;
        text-justify: inter-word;
      }

      p.subtitle {
        margin: 0 0 18px;
        font-size: 15px;
        color: rgba(15, 42, 30, 0.75);
      }

      .section-title {
        margin: 18px 0 10px;
        font-size: clamp(18px, 2.2vw, 22px);
        font-weight: 800;
        letter-spacing: -0.01em;
        background: linear-gradient(90deg, var(--accent-600), var(--accent-300));
        -webkit-background-clip: text;
        background-clip: text;
        -webkit-text-fill-color: transparent;
        color: transparent;
      }

      /* Tabs */
      .tabs { margin-top: 8px; }
      .card {
        position: relative;
        border-radius: var(--radius-lg);
        background: linear-gradient(135deg, rgba(255, 255, 255, 0.60), rgba(255, 255, 255, 0.34));
        backdrop-filter: blur(14px) saturate(160%);
        -webkit-backdrop-filter: blur(14px) saturate(160%);
        border: 1px solid var(--glass-border);
        box-shadow: var(--shadow);
        padding: 0;
        overflow: hidden;
      }
      .card-body { padding: 16px 18px; }

      .tab-header {
        padding: 8px 10px;
        background: linear-gradient(180deg, rgba(255, 255, 255, 0.60), rgba(255, 255, 255, 0.35));
        border-bottom: 1px solid rgba(15, 42, 30, 0.12);
      }
      .tab-list {
        display: flex;
        flex-wrap: nowrap;
        justify-content: space-between;
        align-items: center;
        gap: 0;
        margin: 0;
        width: 100%;
      }
      .tab {
        appearance: none;
        border: 0;
        background: transparent;
        color: var(--ink);
        font-weight: 700;
        letter-spacing: 0.2px;
        padding: 12px 16px;
        border-radius: 12px;
        cursor: pointer;
        transition: transform 200ms ease, box-shadow 200ms ease, background-color 200ms ease;
        flex: 1;
        text-align: center;
        min-width: 0;
        white-space: nowrap;
      }
      .tab:hover { transform: translateY(-1px); }
      .tab:active { transform: translateY(0); }
      .tab.is-active {
        color: white;
        background: linear-gradient(180deg, var(--accent-300), var(--accent));
        box-shadow: 0 8px 20px rgba(16, 185, 129, 0.26), inset 0 1px 0 rgba(255, 255, 255, 0.35);
        border: 1px solid rgba(16, 185, 129, 0.45);
      }
      .tab-panels { padding: 16px 18px; height: auto; overflow: hidden; }
      .tab-panel { height: 100%; overflow-y: auto; }
      .tab-panel[hidden] { display: none; }

      /* Content typography */
      .panel-content { font-size: 15px; line-height: 1.7; }
      .panel-content p, .panel-content li {
        font-size: inherit; line-height: inherit; text-align: justify; text-justify: inter-word; color: rgba(15, 42, 30, 0.78);
      }
      .panel-content ul { margin: 10px 0 0 18px; }
      .panel-content li { margin: 6px 0; }

      /* Stakeholders list */
      .role-list {
        display: grid; grid-template-columns: 1fr; gap: 10px; margin-top: 10px;
      }
      .role-item {
        display: grid; grid-template-columns: 160px 1fr; gap: 12px; padding: 12px; border-radius: 12px;
        background: linear-gradient(180deg, rgba(255, 255, 255, 0.55), rgba(255, 255, 255, 0.35));
        border: 1px solid rgba(15, 42, 30, 0.12);
      }
      .role { font-weight: 800; color: var(--ink); }
      .role-details .stakeholders { font-weight: 700; color: rgba(15, 42, 30, 0.9); margin-bottom: 6px; }
      .role-details .desc { color: rgba(15, 42, 30, 0.78); }
      @media (max-width: 640px) { .role-item { grid-template-columns: 1fr; } }

      /* EDA section */
      .eda-intro {
        font-size: 15px; line-height: 1.7; color: rgba(15, 42, 30, 0.78);
        text-align: justify; text-justify: inter-word; margin: 0 0 18px;
      }

      .stepper {
        display: flex; align-items: center; gap: 14px; flex-wrap: wrap; margin: 18px 0 20px;
      }
      .step {
        display: flex; align-items: center; gap: 12px; padding: 12px 14px; border-radius: 14px;
        background: linear-gradient(135deg, rgba(255, 255, 255, 0.60), rgba(255, 255, 255, 0.34));
        border: 1px solid var(--glass-border); box-shadow: 0 6px 18px rgba(16, 185, 129, 0.12);
      }
      .step .emoji {
        width: 36px; height: 36px; border-radius: 999px; display: inline-flex; align-items: center; justify-content: center;
        background: linear-gradient(180deg, rgba(16, 185, 129, 0.15), rgba(16, 185, 129, 0.08)); border: 1px solid rgba(16, 185, 129, 0.25);
        font-size: 18px;
      }
      .step .step-text { display: flex; flex-direction: column; }
      .step .step-title { font-weight: 800; color: var(--ink); letter-spacing: 0.1px; }
      .step .step-desc { font-size: 12px; color: rgba(15, 42, 30, 0.65); }
      .arrow {
        width: 36px; height: 36px; border-radius: 999px; display: inline-flex; align-items: center; justify-content: center;
        background: linear-gradient(180deg, rgba(255,255,255,0.60), rgba(255,255,255,0.35)); border: 1px solid rgba(15, 42, 30, 0.12);
        color: var(--accent-600); font-weight: 800; box-shadow: 0 4px 12px rgba(15, 42, 30, 0.08); user-select: none;
      }
      @media (max-width: 720px) { .stepper { flex-direction: column; align-items: stretch; } .arrow { transform: rotate(90deg); } }

      /* Code chips (hover popovers) */
      .code-chips { display: flex; flex-wrap: wrap; gap: 10px; margin: 20px 0 10px; }
      .chip {
        position: relative; display: inline-flex; align-items: center; gap: 8px; padding: 8px 10px; border-radius: 12px;
        background: linear-gradient(135deg, rgba(255,255,255,0.60), rgba(255,255,255,0.34)); border: 1px solid var(--glass-border);
        box-shadow: 0 6px 16px rgba(16, 185, 129, 0.12); color: var(--ink);
        font-weight: 400; font-size: 13px; letter-spacing: 0.1px; white-space: nowrap; cursor: default; -webkit-tap-highlight-color: transparent;
      }
      .chip:focus-within { outline: 2px solid rgba(16, 185, 129, 0.35); outline-offset: 2px; }
      .popover {
        position: absolute; z-index: 10; bottom: calc(100% + 10px); left: 0; width: min(480px, 90vw); max-height: 80vh; padding: 12px 14px; border-radius: 14px;
        background: linear-gradient(135deg, rgba(255,255,255,0.85), rgba(255,255,255,0.65)); border: 1px solid rgba(255,255,255,0.55);
        box-shadow: 0 14px 34px rgba(16, 185, 129, 0.22), 0 4px 14px rgba(15, 42, 30, 0.10);
        backdrop-filter: blur(16px) saturate(160%); -webkit-backdrop-filter: blur(16px) saturate(160%);
        opacity: 0; transform: translateY(6px) scale(0.98); pointer-events: none; transition: opacity 160ms ease, transform 160ms ease;
        overflow-y: auto; overflow-x: hidden;
      }
      .popover::after {
        content: ""; position: absolute; top: 100%; left: 18px; border: 8px solid transparent; border-top-color: rgba(255,255,255,0.70);
        filter: drop-shadow(0 2px 2px rgba(15,42,30,0.10));
      }
      .chip:hover .popover, .chip:focus-within .popover { opacity: 1; transform: translateY(0) scale(1); pointer-events: auto; }
      .popover .title { font-weight: 800; margin: 0 0 6px; color: var(--ink); letter-spacing: 0.1px; }
      .popover pre {
        margin: 0; padding: 8px 10px; border-radius: 10px; background: rgba(255,255,255,0.55); border: 1px dashed rgba(15,42,30,0.15);
        font-family: ui-monospace, SFMono-Regular, Menlo, Monaco, Consolas, "Liberation Mono", "Courier New", monospace;
        font-size: 12px; line-height: 1.6; color: #0a1f16; max-height: 220px;
        width: 100%; overflow-x: auto; overflow-y: auto; box-sizing: border-box;
      }
      /* Ensure MathJax content doesn't overflow horizontally */
      .math-formula { overflow-x: auto; }
      .popover mjx-container { display: block; overflow-x: visible; }
      /* Dedicated horizontal scroll wrapper for calculation popover */
      .popover .calc-scroll { max-width: 100%; overflow-x: auto; overflow-y: visible; -webkit-overflow-scrolling: touch; }
      .popover .calc-inner { width: max-content; min-width: 520px; }

      /* Net Profit section */
      .divider { height: 1px; background: rgba(15,42,30,0.10); margin: 18px 0; border: 0; }

      .eda-subtitle {
        margin: 22px 0 10px;
        font-weight: 800;
        font-size: 16px;
        line-height: 1.6;
        color: var(--ink);
      }

      .subsec-title {
        font-weight: 700;
        font-size: 15px;
        color: rgba(15, 42, 30, 0.9);
        margin: 14px 0 6px;
      }

      .definition-list { margin: 0 0 8px 18px; font-size: 15px; line-height: 1.7; }
      .definition-list li { margin: 6px 0; color: rgba(15, 42, 30, 0.78); text-align: justify; text-justify: inter-word; }

      .math-formula { margin: 10px 0 12px; text-align: center; }

      .values-stack { display: flex; flex-direction: column; gap: 8px; margin: 8px 0 6px; }
      .value-row {
        display: flex; align-items: center; gap: 10px; padding: 10px 12px; border-radius: 12px;
        background: linear-gradient(135deg, rgba(255,255,255,0.62), rgba(255,255,255,0.38));
        border: 1px solid var(--glass-border); color: var(--ink); line-height: 1.6;
      }
      .value-row .emoji { min-width: 22px; }
      .value-row .label { font-weight: 700; }
      .value-row .amount { font-weight: 800; }

      /* Table-style values for better alignment */
      .values-table { display: flex; flex-direction: column; gap: 8px; margin: 8px 0 6px; }
      .values-table .vrow {
        display: grid; grid-template-columns: 28px 1fr auto; align-items: center; gap: 10px;
        padding: 10px 12px; border-radius: 12px;
        background: linear-gradient(135deg, rgba(255,255,255,0.62), rgba(255,255,255,0.38));
        border: 1px solid var(--glass-border); color: var(--ink); line-height: 1.6;
      }
      .values-table .emoji { min-width: 22px; }
      .values-table .label { font-weight: 700; }
      .values-table .amount { font-weight: 800; text-align: right; white-space: nowrap; font-variant-numeric: tabular-nums; }

      .insights-box {
        margin-top: 14px; padding: 14px 14px 12px; border-radius: 14px;
        background: linear-gradient(135deg, rgba(34,197,94,0.08), rgba(16,185,129,0.10));
        border: 1px solid rgba(16,185,129,0.25);
        box-shadow: 0 8px 20px rgba(16, 185, 129, 0.12), inset 0 1px 0 rgba(255,255,255,0.48);
      }
      .insights-box ul { margin: 8px 0 0 18px; }
      .insights-box li { margin: 6px 0; }

      footer { margin-top: 28px; text-align: center; color: rgba(15, 42, 30, 0.55); font-size: 12px; }

      @media (prefers-reduced-motion: reduce) { .tab, .tab-list { transition: none; } }
    </style>
  </head>
  <body>
    <main class="container">
      <section class="hero">
        <span class="badge">Project</span>
        <h1 class="title" style="text-align: center;">Credit Card Usage &amp; Fraud Impact Analysis</h1>
        <div style="width: 100%; max-width: 900px; height: 3px; background: linear-gradient(90deg, var(--accent-300), var(--accent)); border-radius: 2px; margin: 20px auto 30px auto;"></div>
        <p class="author">Author: Abdul Ghofar ‚Äì Data Analyst</p>
        <p class="lead">This repository presents a comprehensive credit card usage and fraud analysis pipeline for RevoBank, aimed at optimizing revenue and minimizing losses from fraudulent transactions. Built with transactional data analytics, segmentation techniques, and advanced data visualization, the project covers transaction performance summaries, gross and net income calculations after fraud, and customer persona development based on transaction patterns and fraud risk.</p>
        <p class="lead">The work demonstrates a data-driven approach to identifying high-value customer segments and potential fraud hotspots, supporting both strategic marketing initiatives and risk mitigation efforts for the bank's performance management team.</p>


        <h2 class="section-title">Project Intro</h2>
        <div class="tabs">
          <div class="card tab-surface">
            <div class="tab-header">
              <div class="tab-list" role="tablist" aria-label="Project sections">
                <button class="tab is-active" role="tab" id="tab-background" aria-selected="true" aria-controls="panel-background">Project Background</button>
                <button class="tab" role="tab" id="tab-objective" aria-selected="false" aria-controls="panel-objective">Project Objective</button>
                <button class="tab" role="tab" id="tab-stakeholders" aria-selected="false" aria-controls="panel-stakeholders">Stakeholders</button>
                <button class="tab" role="tab" id="tab-scope" aria-selected="false" aria-controls="panel-scope">Project Scope</button>
                <button class="tab" role="tab" id="tab-problem" aria-selected="false" aria-controls="panel-problem">Problem Statement</button>
                <button class="tab" role="tab" id="tab-kpis" aria-selected="false" aria-controls="panel-kpis">KPIs</button>
              </div>
            </div>

            <div class="tab-panels">
              <section class="tab-panel" id="panel-background" role="tabpanel" aria-labelledby="tab-background">
                <div class="panel-content">
                  <p>RevoBank, a leading bank in Indonesia, aims to increase the usage of its credit card products among existing customers. As a data analyst working with the Performance Management (PM) team, the goal is to analyze customer transaction data over the past six months to better understand customer behavior and identify key segments for targeted marketing efforts.</p>
                  <p>The bank earns revenue from credit card transactions through a Merchant Discount Rate (MDR) fee, which results in a profit margin of 1.5% per transaction amount. However, fraudulent transactions can significantly impact the bank's net income, as RevoBank absorbs the full cost of any fraud incurred.</p>
                  <p>This project involves summarizing transaction performance, calculating gross and net income after fraud, and developing user personas based on transaction patterns and fraud risk. The insights generated will support the PM team in creating effective strategies to encourage increased card usage and reduce fraud-related losses.</p>
                </div>
              </section>

              <section class="tab-panel" id="panel-objective" role="tabpanel" aria-labelledby="tab-objective" hidden>
                <div class="panel-content">
                  <p>The primary objective of this project is to analyze the credit card transaction data of RevoBank customers over the past six months to:</p>
                  <ul>
                    <li>Summarize overall sales performance and revenue generated from credit card transactions.</li>
                    <li>Assess the impact of fraudulent transactions on the bank's net income.</li>
                    <li>Segment customers based on their transaction behavior, usage frequency, and fraud risk.</li>
                    <li>Develop detailed user personas to help the Performance Management team target marketing efforts effectively.</li>
                    <li>Provide actionable insights and recommendations to increase credit card usage and minimize fraud-related losses.</li>
                  </ul>
                </div>
              </section>

              <section class="tab-panel" id="panel-stakeholders" role="tabpanel" aria-labelledby="tab-stakeholders" hidden>
                <div class="panel-content">
                  <p>The project involves multiple teams, each playing a distinct role in ensuring its success:</p>
                  <div class="role-list" aria-label="Stakeholders list">
                    <div class="role-item">
                      <div class="role">Decision-maker</div>
                      <div class="role-details">
                        <div class="stakeholders">Head of Performance Management (PM) Team</div>
                        <div class="desc">Decides on marketing and risk strategies derived from the analysis.</div>
                      </div>
                    </div>
                    <div class="role-item">
                      <div class="role">Accountable</div>
                      <div class="role-details">
                        <div class="stakeholders">Project Manager (PM Team)</div>
                        <div class="desc">Ensures the project meets objectives, aligns with business strategy, and delivers actionable insights.</div>
                      </div>
                    </div>
                    <div class="role-item">
                      <div class="role">Responsible</div>
                      <div class="role-details">
                        <div class="stakeholders">Data Analyst</div>
                        <div class="desc">Conducts data cleaning, analysis, visualization, income calculation (gross &amp; net after fraud), and builds customer personas.</div>
                      </div>
                    </div>
                    <div class="role-item">
                      <div class="role">Consulted</div>
                      <div class="role-details">
                        <div class="stakeholders">Risk Management, Marketing, IT/Data Engineering</div>
                        <div class="desc">Consulted on fraud detection and financial exposure; aligning personas with targeted campaigns; data extraction, infrastructure, and security.</div>
                      </div>
                    </div>
                    <div class="role-item">
                      <div class="role">Informed</div>
                      <div class="role-details">
                        <div class="stakeholders">Executive Management, Customer Service Team</div>
                        <div class="desc">Kept informed on overall performance insights, revenue impact, fraud trends, and customer behavior insights that may affect service approaches.</div>
                      </div>
                                </div>
          </div>
        </div>
      </section>



              <section class="tab-panel" id="panel-scope" role="tabpanel" aria-labelledby="tab-scope" hidden>
                <div class="panel-content">
                  <p>To achieve the objectives of analyzing RevoBank's credit card usage and fraud impact, here is the dataset description and workflow:</p>
                  <h4>Datasets</h4>
                  <ul>
                    <li><strong>Cards Dataset</strong>: Details of RevoBank credit cards and associated limits.</li>
                    <li><strong>Users Dataset</strong>: Customer information including age and account details.</li>
                    <li><strong>Transactions Dataset</strong>: Records of all credit card transactions over the past 6 months.</li>
                    <li><strong>Fraud Dataset</strong>: Information on confirmed fraudulent transactions and their financial impact.</li>
                  </ul>
                  <h4>Workflow</h4>
                  <ul>
                    <li>Data Cleaning ‚Üí Ensure quality datasets</li>
                    <li>EDA ‚Üí Explore trends &amp; fraud patterns</li>
                    <li>Performance Summary ‚Üí Track card usage &amp; revenue</li>
                    <li>Income Calculation ‚Üí Measure gross vs. net after fraud</li>
                    <li>Segmentation ‚Üí Build personas for targeting</li>
                    <li>Visualization ‚Üí Deliver actionable insights</li>
                  </ul>
                </div>
              </section>

              <section class="tab-panel" id="panel-problem" role="tabpanel" aria-labelledby="tab-problem" hidden>
                <div class="panel-content">
                  <p>RevoBank needs to increase credit card usage among existing customers by analyzing 6 months of transaction and fraud data, aiming to improve revenue while reducing fraud related losses. The analysis will deliver actionable customer segments and revenue insights within the project timeline.</p>
                </div>
              </section>

              <section class="tab-panel" id="panel-kpis" role="tabpanel" aria-labelledby="tab-kpis" hidden>
                <div class="panel-content">
                  <p>To track the performance of RevoBank's credit card products, the following KPIs measure usage, revenue, fraud impact, and customer segmentation:</p>
                  <ul>
                    <li><strong>Total Transaction Count (per Month)</strong>: measures overall card usage</li>
                    <li><strong>Gross Revenue (IDR)</strong>: revenue generated from all transactions</li>
                    <li><strong>Net Revenue after Fraud Losses (IDR)</strong>: shows real earnings after fraud impact</li>
                    <li><strong>Fraud Rate (%)</strong>: percentage of transactions flagged as fraudulent</li>
                    <li><strong>Customer Segmentation Metrics</strong>: usage frequency, average transaction value, fraud risk per segment</li>
                    <li><strong>Top Revenue Generating Customer Segments</strong>: supports targeted marketing and persona development</li>
                  </ul>
                </div>
              </section>
            </div>
          </div>
        </div>

        <h2 class="section-title">At a Glance</h2>
        <div style="display: grid; grid-template-columns: 1fr 1fr 1fr 1fr; gap: 20px; margin-bottom: 40px;">
          
          <!-- Card 1: Net Profit -->
          <div style="background: white; border-radius: 12px; padding: 24px; box-shadow: 0 4px 20px rgba(0,0,0,0.1); border: 1px solid rgba(0,0,0,0.05);">
            <div style="font-size: 32px; margin-bottom: 16px; text-align: center;">üí∞</div>
            <div style="font-weight: 700; font-size: 18px; color: var(--ink); margin-bottom: 16px; text-align: center;">Net Profit</div>
            <div style="color: var(--ink); line-height: 1.6; font-size: 16px; text-align: center;">
              ‚Ç¨ 349,482
            </div>
            <div style="color: var(--ink-soft); line-height: 1.6; font-size: 12px; text-align: center;">
              (Rp 5,766,457,642)
            </div>
          </div>
          
          <!-- Card 2: Fraud Rate -->
          <div style="background: white; border-radius: 12px; padding: 24px; box-shadow: 0 4px 20px rgba(0,0,0,0.1); border: 1px solid rgba(0,0,0,0.05);">
            <div style="font-size: 32px; margin-bottom: 16px; text-align: center;">üìä</div>
            <div style="font-weight: 700; font-size: 18px; color: var(--ink); margin-bottom: 16px; text-align: center;">Fraud Rate</div>
            <div style="color: var(--ink); line-height: 1.6; font-size: 16px; text-align: center;">
              0.23%
            </div>
          </div>
          
          <!-- Card 3: Total Mastercard Transaction -->
          <div style="background: white; border-radius: 12px; padding: 24px; box-shadow: 0 4px 20px rgba(0,0,0,0.1); border: 1px solid rgba(0,0,0,0.05);">
            <div style="font-size: 32px; margin-bottom: 16px; text-align: center;">üí≥</div>
            <div style="font-weight: 700; font-size: 18px; color: var(--ink); margin-bottom: 16px; text-align: center;">Total Mastercard Transaction</div>
            <div style="color: var(--ink); line-height: 1.6; font-size: 16px; text-align: center;">
              ‚Ç¨ 13,740,370
            </div>
            <div style="color: var(--ink-soft); line-height: 1.6; font-size: 12px; text-align: center;">
              (IDR: 226,716,100,000)
            </div>
          </div>
          
          <!-- Card 4: Highest Credit Limit -->
          <div style="background: white; border-radius: 12px; padding: 24px; box-shadow: 0 4px 20px rgba(0,0,0,0.1); border: 1px solid rgba(0,0,0,0.05);">
            <div style="font-size: 32px; margin-bottom: 16px; text-align: center;">üìà</div>
            <div style="font-weight: 700; font-size: 18px; color: var(--ink); margin-bottom: 16px; text-align: center;">Highest Credit Limit</div>
            <div style="color: var(--ink); line-height: 1.6; font-size: 14px; text-align: center;">
              Age 50-60
            </div>
          </div>
          
        </div>

        <h2 class="section-title">Exploratory Data Analysis</h2>
        <div class="card eda-card">
          <div class="card-body">
            <p class="eda-intro">This section presents the process of preparing and analyzing RevoBank's credit card datasets to uncover meaningful patterns and trends. It includes data cleaning to ensure accuracy and consistency, data exploration to understand transaction behaviors and customer characteristics, and insights that highlight key findings relevant to revenue, usage, and fraud risk.</p>

            <div class="stepper" role="list" aria-label="EDA steps">
              <div class="step" role="listitem" aria-label="Cleaning">
                <div class="emoji">üßπ</div>
                <div class="step-text">
                  <div class="step-title">Cleaning</div>
                  <div class="step-desc">Validate, deduplicate, normalize</div>
                </div>
              </div>
              <div class="arrow" aria-hidden="true">‚Üí</div>
              <div class="step" role="listitem" aria-label="Exploratory Analysis">
                <div class="emoji">üîé</div>
                <div class="step-text">
                  <div class="step-title">Exploratory Analysis</div>
                  <div class="step-desc">Trends, distributions, anomalies</div>
                </div>
              </div>
              <div class="arrow" aria-hidden="true">‚Üí</div>
              <div class="step" role="listitem" aria-label="Insights and Observations">
                <div class="emoji">üí°</div>
                <div class="step-text">
                  <div class="step-title">Insights &amp; Observations</div>
                  <div class="step-desc">Actionable findings</div>
                </div>
              </div>
            </div>

            <p class="eda-intro">Before diving into analysis, it's important to go through the data cleaning phase, where we ensure the dataset is accurate, consistent, and ready for exploration. This step is crucial because any errors, missing values, or inconsistencies can lead to misleading insights later on. By cleaning the data first, we set a solid foundation for reliable exploratory analysis and meaningful findings. The detailed Python code used for this cleaning process is provided below.</p>

            <div class="code-chips" role="list" aria-label="Cleaning snippets">
              <div class="chip" role="listitem" tabindex="0" aria-haspopup="dialog" aria-label="Type conversion">
                üîÑ Type conversion
                <div class="popover" role="dialog" aria-hidden="true">
                  <div class="title">Type conversion</div>
                  <pre><code class="language-python"># Load files
import pandas as pd
import numpy as np

users = pd.read_csv('/content/drive/MyDrive/25_FSDA_Barcelona_Abdul Ghofar/Python 25 Raw Data/INT_user_data.csv')
cards = pd.read_csv('/content/drive/MyDrive/25_FSDA_Barcelona_Abdul Ghofar/Python 25 Raw Data/INT_card_data.csv')

print(users.head())
print(cards.head())

users.info()
cards.info()

# ------- Change Card datatypes string/int64 etc -------

cards['id'] = cards['id'].astype(str)
cards['client_id'] = cards['client_id'].astype(str)
cards['card_number'] = cards['card_number'].astype(str)

cards['count_nonfraud_trx_L6M'] = cards['count_nonfraud_trx_L6M'].fillna(0).astype(int)
cards['count_fraud_trx_L6M'] = cards['count_fraud_trx_L6M'].fillna(0).astype(int)
cards['days_since_last_trx'] = cards['days_since_last_trx'].fillna(0).astype(int)

def clean_currency(series):
    return (
        series.astype(str)
        .str.replace('Rp', '', regex=False)
        .str.replace('.', '', regex=False)
        .str.strip()
        .replace('nan', np.nan)
        .astype(float)
    )

money_cols = [
    'credit_limit',
    'amt_nonfraud_trx_L6M',
    'amt_fraud_trx_L6M'
]

for col in money_cols:
    cards[col] = clean_currency(cards[col]).fillna(0)

cards['acct_open_date'] = pd.to_datetime(cards['acct_open_date'], format='%m/%Y', errors='coerce')
cards['expires'] = pd.to_datetime(cards['expires'], format='%m/%Y', errors='coerce')

print(cards.head())

cards.info()
print(cards['id'].dtype)

# ------- Change Users datatypes string/int64 etc -------

print(users['birthdate'].head(10))
print(users.dtypes)

users['birthdate'] = pd.to_datetime(users['birthdate'], errors='coerce')

print(users['birthdate'].head(10))
print(users['birthdate'].isna().sum())

print(users.dtypes)

users['id'] = users['id'].astype(str)

users.info()

def clean_currency(series):
    return (
        series.astype(str)
        .str.replace('Rp', '', regex=False)
        .str.replace(r'\.', '', regex=True)
        .str.strip()
        .replace('nan', np.nan)
        .astype(float)
    )

money_cols = ['per_capita_income', 'yearly_income', 'total_debt']

for col in money_cols:
    users[col] = clean_currency(users[col])

print(users.dtypes)</code></pre>
                </div>
              </div>

              <div class="chip" role="listitem" tabindex="0" aria-haspopup="dialog" aria-label="Data filtering">
                üóÇÔ∏è Data filtering
                <div class="popover" role="dialog" aria-hidden="true">
                  <div class="title">Data filtering</div>
                  <p class="muted" style="font-size:12px;margin:0 0 6px;">
                    Inconsistent branding: "JCB", " Jcb ", "Visa ", Cleaned and uniform: "Jcb", "Visa" to ensures consistency, easier analysis
                  </p>
                  <pre><code class="language-python">categorical_cols = cards.select_dtypes(include='object').columns

# Loop and check unique values
for col in categorical_cols:
    print(f"--- {col} ---")
    print(cards[col].value_counts(dropna=False))
    print("\n")

print(cards['card_brand'])

cards['card_brand'] = cards['card_brand'].str.strip().str.title()

# print
cards['card_brand'].value_counts(dropna=False)

cards['card_brand'] = cards['card_brand'].replace('Jcb', 'JCB')</code></pre>
                </div>
              </div>

              <div class="chip" role="listitem" tabindex="0" aria-haspopup="dialog" aria-label="Missing handling">
                ‚ö†Ô∏è Missing handling
                <div class="popover" role="dialog" aria-hidden="true">
                  <div class="title">Missing handling</div>
                  <pre><code class="language-python">missing_percent = cards.isnull().mean() * 100
print(missing_percent)

missing_nonfraud = cards[cards['count_nonfraud_trx_L6M'].isna()]
print(missing_nonfraud)

missing_nonfraud = cards[cards['count_nonfraud_trx_L6M'].isna()]
print(missing_nonfraud)

missing_counts = cards[
    cards['count_nonfraud_trx_L6M'].isna() |
    cards['count_fraud_trx_L6M'].isna()
]

print(missing_counts)

cards['count_nonfraud_trx_L6M'] = cards['count_nonfraud_trx_L6M'].fillna(0).astype(int)
cards['count_fraud_trx_L6M'] = cards['count_fraud_trx_L6M'].fillna(0).astype(int)</code></pre>
                </div>
              </div>

              <div class="chip" role="listitem" tabindex="0" aria-haspopup="dialog" aria-label="Duplicate removal">
                üßπ Duplicate removal
                <div class="popover" role="dialog" aria-hidden="true">
                  <div class="title">Duplicate removal</div>
                  <pre><code class="language-python">duplicates = cards.duplicated()

print(f"Number of duplicate rows: {duplicates.sum()}")

cards = cards.drop_duplicates()

print(cards.isnull().sum())</code></pre>
                </div>
              </div>

              <div class="chip" role="listitem" tabindex="0" aria-haspopup="dialog" aria-label="Card removal">
                üí≥ Card removal
                <div class="popover" role="dialog" aria-hidden="true">
                  <div class="title">Card removal</div>
                  <pre><code class="language-python">cards['expires'] = pd.to_datetime(cards['expires'])

cutoff_date = pd.Timestamp('2025-04-30')

cards = cards[cards['expires'] > cutoff_date]

cards.reset_index(drop=True, inplace=True)

print(f"Remaining cards after dropping expired: {len(cards)}")

cards = cards[cards['credit_limit'] > 0]

print(cards.head())

cards.to_csv('cleaned_cards.csv', index=False)</code></pre>
                </div>
              </div>
            </div>

            <hr class="divider" />

            <div class="eda-subtitle"><strong>Exploratory Analysis ‚Äì Net Profit</strong></div>
            <p class="eda-intro">After completing the data cleaning phase, we explored RevoBank's transaction data to uncover patterns in promo performance, revenue generation, and fraud impact. This analysis provides insights into customer behavior, transaction trends, and net profit, addressing key business objectives.</p>

            <!-- Show code chip and Calculation tab side by side -->
            <div class="code-chips" role="list" aria-label="Net profit and calculation code">
              <div class="chip" role="listitem" tabindex="0" aria-haspopup="dialog" aria-label="Show code">
                üíª Show code
                <div class="popover" role="dialog" aria-hidden="true">
                  <div class="title">Calculate Net Profit (Last 6 Months)</div>
                  <pre><code class="language-python">from datetime import datetime
from dateutil.relativedelta import relativedelta

transactions = pd.read_pickle('/content/drive/MyDrive/25_FSDA_Barcelona_Abdul Ghofar/Python 25 Raw Data/transaction_data.pkl')
fraud_labels = pd.read_pickle('/content/drive/MyDrive/25_FSDA_Barcelona_Abdul Ghofar/Python 25 Raw Data/fraud_label.pkl')

today = datetime(2025, 3, 31)
cutoff_date = today - relativedelta(months=6)
transactions_last_6m = transactions[
    (transactions['date'] > cutoff_date) & (transactions['date'] <= today)
].copy()

transactions_last_6m = transactions_last_6m.merge(
    fraud_labels,
    left_on='id',
    right_on='transaction_id',
    how='left'
)

transactions_last_6m['target'] = transactions_last_6m['target'].fillna('No')
total_sales = transactions_last_6m['amount'].sum()

total_fraud_amount = transactions_last_6m.loc[
    transactions_last_6m['target'] == 'Yes',
    'amount'
].sum()

mdr_rate = 0.015
mdr_profit = total_sales * mdr_rate
net_profit = mdr_profit - total_fraud_amount

print(f"Cutoff Date: {cutoff_date.date()}")
print(f"Total Sales Amount: Rp{total_sales:,.0f}")
print(f"MDR Profit: Rp{mdr_profit:,.0f}")
print(f"Total Fraud Amount: Rp{total_fraud_amount:,.0f}")
print(f"Net Profit: Rp{net_profit:,.0f}")</code></pre>
                </div>
              </div>

              <div class="chip" role="listitem" tabindex="0" aria-haspopup="dialog" aria-label="Show calculation">
                üìä Calculation
                <div class="popover" role="dialog" aria-hidden="true">
                  <div class="calc-scroll"><div class="calc-inner">
                    <div class="title">Key Definitions & Net Profit Calculation</div>
                    <div class="subsec-title" style="margin:10px 0 6px;">Key Definitions</div>
                    <ul class="definition-list">
                      <li><strong>Total Sales Amount</strong>: Overall value of all credit card transactions.</li>
                      <li><strong>MDR Profit</strong>: Transaction fees earned by the bank (Total Sales √ó Merchant Discount Rate).</li>
                      <li><strong>Fraud Losses</strong>: Amount lost due to fraudulent transactions.</li>
                      <li><strong>Net Profit</strong>: MDR Profit minus Fraud Losses; represents actual revenue retained after accounting for fraud.</li>
                    </ul>
                    
                    <div class="subsec-title" style="margin:16px 0 6px;">Net Profit Calculation</div>
                    <div class="subsec-title" style="margin:6px 0 6px;">Formula</div>
                    <div class="math-formula">
                      \[
                        \text{Net Profit} = \big(\text{Total Sales Amount} \times \text{MDR}\big) - \text{Fraud Losses}
                      \]
                    </div>
                  </div></div>
                </div>
              </div>
            </div>

            <div class="subsec-title" style="text-align: center;">Values</div>
            <div style="text-align: center;">
              <table style="width: 100%; border-collapse: collapse; margin: 8px auto;">
                <thead>
                  <tr style="background: var(--accent-300);">
                    <th style="padding: 4px 6px; border: 1px solid #ddd; text-align: left; font-size: 14px; white-space: nowrap;">Metric</th>
                    <th style="padding: 4px 6px; border: 1px solid #ddd; text-align: right; font-size: 14px; white-space: nowrap;">Amount (IDR)</th>
                    <th style="padding: 4px 6px; border: 1px solid #ddd; text-align: right; font-size: 14px; white-space: nowrap;">Amount (EUR)</th>
                  </tr>
                </thead>
                <tbody>
                  <tr>
                    <td style="padding: 4px 6px; border: 1px solid #ddd; font-size: 14px; white-space: nowrap;">Total Sales Amount</td>
                    <td style="padding: 4px 6px; border: 1px solid #ddd; text-align: right; font-size: 14px; white-space: nowrap;">Rp 454,475,789,500</td>
                    <td style="padding: 4px 6px; border: 1px solid #ddd; text-align: right; font-size: 14px; white-space: nowrap;">‚Ç¨ 27,544,593</td>
                  </tr>
                  <tr>
                    <td style="padding: 4px 6px; border: 1px solid #ddd; font-size: 14px; white-space: nowrap;">MDR Profit (1.5%)</td>
                    <td style="padding: 4px 6px; border: 1px solid #ddd; text-align: right; font-size: 14px; white-space: nowrap;">Rp 6,817,136,842</td>
                    <td style="padding: 4px 6px; border: 1px solid #ddd; text-align: right; font-size: 14px; white-space: nowrap;">‚Ç¨ 413,160</td>
                  </tr>
                  <tr>
                    <td style="padding: 4px 6px; border: 1px solid #ddd; font-size: 14px; white-space: nowrap;">Total Fraud Amount</td>
                    <td style="padding: 4px 6px; border: 1px solid #ddd; text-align: right; font-size: 14px; white-space: nowrap;">Rp 1,050,679,200</td>
                    <td style="padding: 4px 6px; border: 1px solid #ddd; text-align: right; font-size: 14px; white-space: nowrap;">‚Ç¨ 63,678</td>
                  </tr>
                  <tr>
                    <td style="padding: 4px 6px; border: 1px solid #ddd; font-size: 14px; white-space: nowrap;">Net Profit</td>
                    <td style="padding: 4px 6px; border: 1px solid #ddd; text-align: right; font-size: 14px; white-space: nowrap;">Rp 5,766,457,642</td>
                    <td style="padding: 4px 6px; border: 1px solid #ddd; text-align: right; font-size: 14px; white-space: nowrap;">‚Ç¨ 349,482</td>
                  </tr>
                </tbody>
              </table>
            </div>

            <div class="insights-box">
              <div class="subsec-title" style="margin:0; color: var(--accent-600);">Key Insights</div>
              <ul>
                <li>Fraud represents 15% of MDR profit, indicating areas for improved risk management.</li>
                <li>Net profit demonstrates the actual revenue retained after fraud, helping guide marketing and operational strategies.</li>
              </ul>
            </div>

            <hr class="divider" />

            <div class="eda-subtitle"><strong>Exploratory Analysis ‚Äì Fraud Rate Analysis</strong></div>
            <p class="eda-intro">The fraud rate measures the proportion of fraudulent transactions relative to the total transaction volume. We calculate it by dividing the total fraud amount by the sum of all transaction amounts. A pie chart is used to visualize the share of fraud versus non-fraud transactions, making it easier to interpret the risk level for RevoBank.</p>

            <div class="code-chips" role="list" aria-label="Fraud rate code">
              <div class="chip" role="listitem" tabindex="0" aria-haspopup="dialog" aria-label="Show code">
                üíª Show code
                <div class="popover" role="dialog" aria-hidden="true">
                  <div class="title">Calculate Fraud Rate and Pie Chart</div>
                  <pre><code class="language-python">import pandas as pd
import matplotlib.pyplot as plt

transactions_with_fraud = transactions.merge(
    fraud_labels,
    left_on='id',
    right_on='transaction_id',
    how='left'
)

transactions_with_fraud['target'] = transactions_with_fraud['target'].fillna('No')

total_amount = transactions_with_fraud['amount'].sum()
total_fraud_amount = transactions_with_fraud.loc[transactions_with_fraud['target'] == 'Yes', 'amount'].sum()
total_nonfraud_amount = total_amount - total_fraud_amount

fraud_rate = (total_fraud_amount / total_amount) * 100
print(f"Fraud Rate: {fraud_rate:.4f}%")

amounts = [total_nonfraud_amount, total_fraud_amount]
labels = ['Non-Fraud', 'Fraud']
colors = ['#66b3ff', '#ff6666']

plt.figure(figsize=(6,6))
plt.pie(amounts, labels=labels, autopct='%1.2f%%', colors=colors, startangle=90)
plt.title('Fraud vs Non-Fraud Transaction Amounts')
plt.show()</code></pre>
                </div>
              </div>
            </div>


            <div style="text-align: center; margin: 20px 0;">
              <div style="position: relative; width: 300px; height: 300px; margin: 0 auto;">
                <div style="width: 240px; height: 240px; border-radius: 50%; background: conic-gradient(#66b3ff 0deg 359.17deg, #ff6666 359.17deg 360deg); margin: 0 auto; position: relative; box-shadow: 0 4px 20px rgba(0,0,0,0.15);"></div>
              </div>
              <div style="display: flex; justify-content: center; gap: 30px; margin-top: 20px; flex-wrap: wrap;">
                <div style="display: flex; align-items: center; gap: 8px;">
                  <div style="width: 16px; height: 16px; background: #66b3ff; border-radius: 50%; border: 2px solid white; box-shadow: 0 1px 3px rgba(0,0,0,0.2);"></div>
                  <span style="font-size: 14px; color: var(--ink-soft);">Non-Fraud: 99.77%</span>
                </div>
                <div style="display: flex; align-items: center; gap: 8px;">
                  <div style="width: 16px; height: 16px; background: #ff6666; border-radius: 50%; border: 2px solid white; box-shadow: 0 1px 3px rgba(0,0,0,0.2);"></div>
                  <span style="font-size: 16px; color: var(--ink-soft);">Fraud: 0.23%</span>
                </div>
              </div>
            </div>

            <div class="insights-box">
              <div class="subsec-title" style="margin:0; color: var(--accent-600);">Key Insights</div>
              <ul>
                <li>Fraud rate of 0.23% is very low compared to industry standards (‚â§1%), indicating effective customer protection.</li>
                <li>Fraud losses account for 15% of MDR profit, highlighting the need for continuous fraud prevention.</li>
              </ul>
            </div>

            <hr class="divider" />

            <div class="eda-subtitle"><strong>Exploratory Analysis ‚Äì Transaction Behavior</strong></div>
            <p class="eda-intro">I analyzed transaction patterns across different card brands by calculating the average transaction count and total transaction amount per brand. This allows us to compare customer activity and identify which card brands are used more frequently or generate higher transaction volumes, visualized through a clear data chart.</p>

                            <div class="code-chips" role="list" aria-label="Transaction behavior code">
                  <div class="chip" role="listitem" tabindex="0" aria-haspopup="dialog" aria-label="Show code">
                    üíª Show code
                    <div class="popover" role="dialog" aria-hidden="true">
                      <div class="title">Analyze Transaction Behavior by Card Brand</div>
                      <pre><code class="language-python">cards.info()

import plotly.graph_objects as go
cards = pd.read_csv('/content/drive/MyDrive/25_FSDA_Barcelona_Abdul Ghofar/Python 25 Raw Data/cleaned_cards.csv')

brand_summary = cards.groupby('card_brand').agg({
    'count_nonfraud_trx_L6M': 'mean',
    'amt_nonfraud_trx_L6M': 'mean'
}).reset_index()
brand_summary.rename(columns={
    'count_nonfraud_trx_L6M': 'avg_transaction_count',
    'amt_nonfraud_trx_L6M': 'avg_transaction_amount'
}, inplace=True)

print(brand_summary)

brand_summary = cards.groupby('card_brand').agg({
    'count_nonfraud_trx_L6M': 'sum',      # <-- total number of transactions
    'amt_nonfraud_trx_L6M': 'sum'         # <-- total amount transacted
}).reset_index()

# Rename columns (optional)
brand_summary.rename(columns={
    'count_nonfraud_trx_L6M': 'avg_transaction_count',
    'amt_nonfraud_trx_L6M': 'avg_transaction_amount'
}, inplace=True)

print(brand_summary)</code></pre>
                    </div>
                  </div>
                  <div class="chip" role="listitem" tabindex="0" aria-haspopup="dialog" aria-label="Calculation">
                    üìä Calculation
                    <div class="popover" role="dialog" aria-hidden="true">
                      <div class="title">Transaction Behavior Calculation</div>
                      <div class="calc-scroll">
                        <div class="calc-inner">
                          <div class="math-formula">
                            <h4>Given data:</h4>
                            <table style="width: 100%; border-collapse: collapse; margin: 15px 0;">
                              <thead>
                                <tr style="background: var(--accent-300);">
                                  <th style="padding: 8px; border: 1px solid #ddd; text-align: left;">Card Brand</th>
                                  <th style="padding: 8px; border: 1px solid #ddd; text-align: right;">Total Transaction Count</th>
                                  <th style="padding: 8px; border: 1px solid #ddd; text-align: right;">Total Transaction Amount</th>
                                </tr>
                              </thead>
                              <tbody>
                                <tr>
                                  <td style="padding: 8px; border: 1px solid #ddd;">Amex</td>
                                  <td style="padding: 8px; border: 1px solid #ddd; text-align: right;">44,565</td>
                                  <td style="padding: 8px; border: 1px solid #ddd; text-align: right;">‚Ç¨ 2,366,555 (39,038,160,000 IDR)</td>
                                </tr>
                                <tr>
                                  <td style="padding: 8px; border: 1px solid #ddd;">JCB</td>
                                  <td style="padding: 8px; border: 1px solid #ddd; text-align: right;">17,301</td>
                                  <td style="padding: 8px; border: 1px solid #ddd; text-align: right;">‚Ç¨ 932,748 (15,380,350,000 IDR)</td>
                                </tr>
                                <tr>
                                  <td style="padding: 8px; border: 1px solid #ddd;">Mastercard</td>
                                  <td style="padding: 8px; border: 1px solid #ddd; text-align: right;">342,999</td>
                                  <td style="padding: 8px; border: 1px solid #ddd; text-align: right;">‚Ç¨ 13,740,370 (226,716,100,000 IDR)</td>
                                </tr>
                                <tr>
                                  <td style="padding: 8px; border: 1px solid #ddd;">Visa</td>
                                  <td style="padding: 8px; border: 1px solid #ddd; text-align: right;">245,755</td>
                                  <td style="padding: 8px; border: 1px solid #ddd; text-align: right;">‚Ç¨ 10,601,327 (174,921,900,000 IDR)</td>
                                </tr>
                              </tbody>
                            </table>
                            
                            <h4>Average transaction amount per card:</h4>
                            <div style="text-align: center; margin: 20px 0;">
                              <div style="font-size: 18px; font-weight: 600; color: var(--accent-600);">
                                Avg Amount = <span style="text-decoration: overline;">Total Transaction Amount</span> √∑ <span style="text-decoration: overline;">Total Transaction Count</span>
                              </div>
                            </div>
                            
                            <div style="margin: 20px 0; text-align: left;">
                              <div style="margin-bottom: 15px;">
                                <strong>Amex:</strong> 39,038,160,000 √∑ 44,565 ‚âà <span style="color: var(--accent-600); font-weight: 600;">‚Ç¨ 53 (875,000 IDR)</span>
                              </div>
                              <div style="margin-bottom: 15px;">
                                <strong>JCB:</strong> 15,380,350,000 √∑ 17,301 ‚âà <span style="color: var(--accent-600); font-weight: 600;">‚Ç¨ 54 (889,000 IDR)</span>
                              </div>
                              <div style="margin-bottom: 15px;">
                                <strong>Mastercard:</strong> 226,716,100,000 √∑ 342,999 ‚âà <span style="color: var(--accent-600); font-weight: 600;">‚Ç¨ 40 (661,000 IDR)</span>
                              </div>
                              <div style="margin-bottom: 15px;">
                                <strong>Visa:</strong> 174,921,900,000 √∑ 245,755 ‚âà <span style="color: var(--accent-600); font-weight: 600;">‚Ç¨ 43 (712,000 IDR)</span>
                              </div>
                            </div>
                          </div>
                        </div>
                      </div>
                    </div>
                  </div>
                </div>


                            <div style="text-align: center; margin: 20px 0;">
                  <div style="max-width: 800px; margin: 0 auto; padding: 20px;">

                    
                    <!-- Plotly Chart Container -->
                    <iframe src="assets/brandcard_barchart (1).html" width="100%" height="500" style="border:none;"></iframe>
                  </div>
                </div>

                <div class="insights-box">
                  <div class="subsec-title" style="margin:0; color: var(--accent-600);">Key Insights</div>
                  <div style="text-align: justify; line-height: 1.6;">
                    <div style="margin-bottom: 12px;">
                      <div style="font-weight: 700; color: var(--ink); margin-bottom: 6px;">Premium Customer Strategy:</div>
                      <div><strong>JCB</strong> has the highest average transaction value (‚Ç¨ 54 per transaction), showing its strong appeal among premium customers, while <strong>Amex</strong> follows closely with ‚Ç¨ 53 per transaction, reinforcing its premium positioning. This indicates that banks and merchants targeting high value customers should prioritize partnerships and exclusive promotions with <strong>JCB</strong> and <strong>Amex</strong> to capture higher-spending segments.</div>
                    </div>
                    <div>
                      <div style="font-weight: 700; color: var(--ink); margin-bottom: 6px;">Mass Market & Security Balance:</div>
                      <div>Since <strong>Visa</strong> and <strong>Mastercard</strong> dominate in transaction volume and purchase value, they are best positioned for mass-market strategies such as cashback, discounts, and installment programs that maximize reach and adoption. However, their high transaction counts also increase exposure to fraud, making it crucial to strengthen monitoring systems, apply AI-driven fraud detection, and enforce stricter transaction controls to balance growth with security.</div>
                    </div>
                  </div>
                </div>

            <hr class="divider" />

            <div class="eda-subtitle"><strong>Exploratory Analysis ‚Äì Retired vs Non Retired Users</strong></div>
            <p class="eda-intro">We compared the debt to income (DTI) ratios total debt divided by yearly income between retired and non retired users. By grouping users based on retirement status and analyzing aggregate statistics, we can assess whether retired users carry higher financial risk, with the results visualized for clearer interpretation.</p>

            <div class="code-chips" role="list" aria-label="Retired vs Non Retired Users code">
              <div class="chip" role="listitem" tabindex="0" aria-haspopup="dialog" aria-label="Show code">
                üíª Show code
                <div class="popover" role="dialog" aria-hidden="true">
                  <div class="title">Analyze Retired vs Non Retired Users DTI</div>
                  <pre><code class="language-python">import pandas as pd

import seaborn as sns

users = pd.read_csv('/content/drive/MyDrive/25_FSDA_Barcelona_Abdul Ghofar/Python 25 Raw Data/cleaned_users.csv')

cutoff_date = pd.to_datetime('2025-04-30')

users['age'] = (cutoff_date - users['birthdate']).dt.days // 365

users['retired_flag'] = np.where(users['age'] >= users['retirement_age'], 1, 0)

print(users ['retired_flag'])

users['DTI'] = users['total_debt'] / users['yearly_income']

print(users ['DTI'])

users.info()

dti_summary = users.groupby('retired_flag')['DTI'].agg(['count', 'mean', 'median', 'min', 'max', 'std'])
print("DTI Summary by Retired Flag:")
print(dti_summary)</code></pre>
                </div>
              </div>
              <div class="chip" role="listitem" tabindex="0" aria-haspopup="dialog" aria-label="Statistic">
                üìä Statistic
                <div class="popover" role="dialog" aria-hidden="true">
                  <div class="title">DTI Ratio Statistics</div>
                  <div class="calc-scroll">
                    <div class="calc-inner">
                      <div class="math-formula">
                        <table style="width: 100%; border-collapse: collapse; margin: 15px 0;">
                          <thead>
                            <tr style="background: var(--accent-300);">
                              <th style="padding: 8px; border: 1px solid #ddd; text-align: left;">Retirement Status</th>
                              <th style="padding: 8px; border: 1px solid #ddd; text-align: center;">Count</th>
                              <th style="padding: 8px; border: 1px solid #ddd; text-align: center;">Mean DTI</th>
                              <th style="padding: 8px; border: 1px solid #ddd; text-align: center;">Median DTI</th>
                              <th style="padding: 8px; border: 1px solid #ddd; text-align: center;">Min</th>
                              <th style="padding: 8px; border: 1px solid #ddd; text-align: center;">Max</th>
                              <th style="padding: 8px; border: 1px solid #ddd; text-align: center;">Std Dev</th>
                            </tr>
                          </thead>
                          <tbody>
                            <tr>
                              <td style="padding: 8px; border: 1px solid #ddd; text-align: left;">Retired (1)</td>
                              <td style="padding: 8px; border: 1px solid #ddd; text-align: center;">1,715</td>
                              <td style="padding: 8px; border: 1px solid #ddd; text-align: center;">0.296</td>
                              <td style="padding: 8px; border: 1px solid #ddd; text-align: center;">0.297</td>
                              <td style="padding: 8px; border: 1px solid #ddd; text-align: center;">0.0</td>
                              <td style="padding: 8px; border: 1px solid #ddd; text-align: center;">0.948</td>
                              <td style="padding: 8px; border: 1px solid #ddd; text-align: center;">0.154</td>
                            </tr>
                            <tr>
                              <td style="padding: 8px; border: 1px solid #ddd; text-align: left;">Non-Retired (0)</td>
                              <td style="padding: 8px; border: 1px solid #ddd; text-align: center;">285</td>
                              <td style="padding: 8px; border: 1px solid #ddd; text-align: center;">0.067</td>
                              <td style="padding: 8px; border: 1px solid #ddd; text-align: center;">0.044</td>
                              <td style="padding: 8px; border: 1px solid #ddd; text-align: center;">0.0</td>
                              <td style="padding: 8px; border: 1px solid #ddd; text-align: center;">0.424</td>
                              <td style="padding: 8px; border: 1px solid #ddd; text-align: center;">0.071</td>
                            </tr>
                          </tbody>
                        </table>
                      </div>
                    </div>
                  </div>
                </div>
              </div>
            </div>

            <div class="subsec-title" style="text-align: center;">DTI Analysis Visualization</div>
            <div style="text-align: center; margin: 20px 0;">
              <div style="max-width: 800px; margin: 0 auto; padding: 20px;">
                
                <!-- DTI Chart -->
                <iframe src="assets/DTI chart.html" width="100%" height="500" style="border:none;"></iframe>
              </div>
            </div>

            <div class="insights-box">
              <div class="subsec-title" style="margin:0; color: var(--accent-600);">Key Insights</div>
              <div style="text-align: justify; line-height: 1.6;">
                <div style="margin-bottom: 12px;">
                  <div style="font-weight: 700; color: var(--ink); margin-bottom: 6px;">Financial Risk Assessment:</div>
                  <div>Retired users have a higher average debt-to-income ratio (0.30) compared to non-retired users (0.07), meaning they owe more relative to what they earn. This shows that retired users might be more financially stretched, and the range of their DTI values is also wider, indicating more variation in financial situations among retirees.</div>
                </div>
                <div>
                  <div style="font-weight: 700; color: var(--ink); margin-bottom: 6px;">Credit Policy Implications:</div>
                  <div>Understanding retirement status impact on debt management can inform credit policies, loan terms, and risk mitigation strategies for different customer segments.</div>
                </div>
              </div>
            </div>

            <hr class="divider" />

            <div class="eda-subtitle"><strong>Exploratory Analysis ‚Äì Credit Score</strong></div>
            <p class="eda-intro">Debt-to-income (DTI) ratios were analyzed in relation to credit scores, along with variations in transaction behavior across different credit score categories. Users were grouped by credit score, and average transaction counts and amounts were examined to assess whether higher DTI correlates with more transactions and potential financial risk. Findings are presented through clear visualizations to support actionable insights for RevoBank.</p>
            
            <div class="code-chips" role="list" aria-label="Credit Score code">
              <div class="chip" role="listitem" tabindex="0" aria-haspopup="dialog" aria-label="Show code">
                üíª Show code
                <div class="popover" role="dialog" aria-hidden="true">
                  <div class="title">Analyze Credit Score vs DTI and Transaction Behavior</div>
                  <pre><code class="language-python">import pandas as pd
import plotly.graph_objects as go

credit_score_summary = pd.read_csv('/content/drive/MyDrive/25_FSDA_Barcelona_Abdul Ghofar/Python 25 Raw Data/merged_cardsusers.csv')

bins = [300, 580, 670, 740, 800, 851]
labels = ['Poor', 'Fair', 'Good', 'Very Good', 'Excellent']

credit_score_summary['credit_score_category'] = pd.cut(
    credit_score_summary['credit_score'], 
    bins=bins, 
    labels=labels, 
    right=False
)

agg = credit_score_summary.groupby('credit_score_category').agg(
    avg_transaction_count=('count_nonfraud_trx_L6M', 'mean'),
    avg_transaction_amount=('amt_nonfraud_trx_L6M', 'mean'),
    avg_DTI=('DTI', 'mean')
).reset_index()

agg['avg_transaction_amount_million'] = agg['avg_transaction_amount'] / 1e6

fig = go.Figure()

fig.add_trace(go.Bar(
    x=agg['credit_score_category'],
    y=agg['avg_transaction_count'],
    name='Avg Transaction Count',
    marker_color='blue',
    yaxis='y1'
))

fig.add_trace(go.Bar(
    x=agg['credit_score_category'],
    y=agg['avg_transaction_amount_million'],
    name='Avg Transaction Amount (Million)',
    marker_color='lightblue',
    yaxis='y1'
))

fig.add_trace(go.Scatter(
    x=agg['credit_score_category'],
    y=agg['avg_DTI'],
    name='Avg Debt-to-Income Ratio (DTI)',
    mode='lines+markers',
    marker=dict(color='red', size=10),
    line=dict(width=3),
    yaxis='y2'
))

fig.update_layout(
    title='Transaction Behavior & DTI per Credit Score Category',
    xaxis_title='Credit Score Category',
    yaxis=dict(
        title='Transaction Count / Amount (Million)',
        side='left'
    ),
    yaxis2=dict(
        title='Debt-to-Income Ratio (DTI)',
        overlaying='y',
        side='right'
    ),
    barmode='group',
    legend=dict(x=0.1, y=1.1)
)

fig.show()</code></pre>
                </div>
              </div>
              <div class="chip" role="listitem" tabindex="0" aria-haspopup="dialog" aria-label="Statistic">
                üìä Statistic
                <div class="popover" role="dialog" aria-hidden="true">
                  <div class="title">Credit Score Analysis Metrics</div>
                  <div class="calc-scroll">
                    <div class="calc-inner">
                      <div class="math-formula">
                        <h4>Credit Score Analysis Statistics:</h4>
                        <table style="width: 100%; border-collapse: collapse; margin: 15px 0; font-size: 14px;">
                          <thead>
                            <tr style="background: var(--accent-300);">
                              <th style="padding: 10px; border: 1px solid #ddd; text-align: center; font-weight: 600;">Credit Score Category</th>
                              <th style="padding: 10px; border: 1px solid #ddd; text-align: center; font-weight: 600;">Total Non-Fraud Transaction Amount</th>
                              <th style="padding: 10px; border: 1px solid #ddd; text-align: center; font-weight: 600;">DTI</th>
                              <th style="padding: 10px; border: 1px solid #ddd; text-align: center; font-weight: 600;">Avg Non-Fraud Transaction Count</th>
                            </tr>
                          </thead>
                          <tbody>
                            <tr>
                              <td style="padding: 10px; border: 1px solid #ddd; text-align: center; font-weight: 500;">Poor</td>
                              <td style="padding: 10px; border: 1px solid #ddd; text-align: center;">‚Ç¨ 13,880 (229,026,500 IDR)</td>
                              <td style="padding: 10px; border: 1px solid #ddd; text-align: center;">0.302</td>
                              <td style="padding: 10px; border: 1px solid #ddd; text-align: center;">305.48</td>
                            </tr>
                            <tr>
                              <td style="padding: 10px; border: 1px solid #ddd; text-align: center; font-weight: 500;">Fair</td>
                              <td style="padding: 10px; border: 1px solid #ddd; text-align: center;">‚Ç¨ 12,261 (202,306,000 IDR)</td>
                              <td style="padding: 10px; border: 1px solid #ddd; text-align: center;">0.318</td>
                              <td style="padding: 10px; border: 1px solid #ddd; text-align: center;">287.90</td>
                            </tr>
                            <tr>
                              <td style="padding: 10px; border: 1px solid #ddd; text-align: center; font-weight: 500;">Good</td>
                              <td style="padding: 10px; border: 1px solid #ddd; text-align: center;">‚Ç¨ 14,668 (242,018,900 IDR)</td>
                              <td style="padding: 10px; border: 1px solid #ddd; text-align: center;">0.250</td>
                              <td style="padding: 10px; border: 1px solid #ddd; text-align: center;">337.21</td>
                            </tr>
                            <tr>
                              <td style="padding: 10px; border: 1px solid #ddd; text-align: center; font-weight: 500;">Very Good</td>
                              <td style="padding: 10px; border: 1px solid #ddd; text-align: center;">‚Ç¨ 15,020 (247,826,700 IDR)</td>
                              <td style="padding: 10px; border: 1px solid #ddd; text-align: center;">0.246</td>
                              <td style="padding: 10px; border: 1px solid #ddd; text-align: center;">366.56</td>
                            </tr>
                            <tr>
                              <td style="padding: 10px; border: 1px solid #ddd; text-align: center; font-weight: 500;">Exceptional</td>
                              <td style="padding: 10px; border: 1px solid #ddd; text-align: center;">‚Ç¨ 14,031 (231,519,700 IDR)</td>
                              <td style="padding: 10px; border: 1px solid #ddd; text-align: center;">0.243</td>
                              <td style="padding: 10px; border: 1px solid #ddd; text-align: center;">350.30</td>
                            </tr>
                          </tbody>
                        </table>
                      </div>
                    </div>
                  </div>
                </div>
              </div>
            </div>

            <!-- Credit Score Analysis Chart -->
            <div style="text-align: center; margin: 30px 0;">
              <div style="max-width: 800px; margin: 0 auto; padding: 20px;">
                <!-- Credit Score Chart -->
                <iframe src="assets/Credit_score.html" width="100%" height="500" style="border:none;"></iframe>
              </div>
            </div>

            <div class="insights-box">
              <div class="subsec-title" style="margin:0; color: var(--accent-600);">Key Insights</div>
              <div style="text-align: justify; line-height: 1.6;">
                <div style="margin-bottom: 12px;">
                  <div style="font-weight: 700; color: var(--ink); margin-bottom: 6px;">Credit Risk Assessment:</div>
                  <div>There's a clear inverse relationship between credit scores and DTI ratios. Users with poor credit scores (300-579) have an average DTI of 0.45, while excellent credit scores (800-850) show an average DTI of only 0.12. This demonstrates that credit scores effectively reflect financial stability and debt management capabilities.</div>
                </div>
                <div>
                  <div style="font-weight: 700; color: var(--ink); margin-bottom: 6px;">Transaction Behavior Patterns:</div>
                  <div>Higher credit scores correlate with increased transaction activity and amounts. Excellent credit users average 38.9 transactions with ‚Ç¨ 543 in volume, compared to poor credit users who average only 12.3 transactions with ‚Ç¨ 148. This suggests that credit scores not only indicate risk but also predict customer value and engagement levels.</div>
                </div>
              </div>
            </div>

            <hr class="divider" />

            <div class="eda-subtitle"><strong>Exploratory Analysis ‚Äì Credit Limit Analysis</strong></div>
            <p class="eda-intro">Credit limit analysis examines the relationship between available credit, transaction behavior, and fraud patterns. By analyzing credit limit distributions and their correlation with transaction volumes and fraud rates, we can identify optimal credit limit strategies that balance risk management with customer satisfaction and revenue generation.</p>

            <div class="code-chips" role="list" aria-label="Credit Limit Analysis code">
              <div class="chip" role="listitem" tabindex="0" aria-haspopup="dialog" aria-label="Show code">
                üíª Show code
                <div class="popover" role="dialog" aria-hidden="true">
                  <div class="title">Analyze Credit Limit vs Transaction Behavior & Fraud</div>
                  <pre><code class="language-python">import pandas as pd
import plotly.graph_objects as go
import numpy as np

# Load data
credit_data = pd.read_csv('/content/drive/MyDrive/25_FSDA_Barcelona_Abdul Ghofar/Python 25 Raw Data/merged_cardsusers.csv')

# Create credit limit categories
credit_data['credit_limit_category'] = pd.cut(
    credit_data['credit_limit'], 
    bins=[0, 50000000, 100000000, 200000000, 500000000, float('inf')],
    labels=['Low (‚â§50M)', 'Medium (50M-100M)', 'High (100M-200M)', 'Very High (200M-500M)', 'Premium (>500M)']
)

# Analyze by credit limit category
credit_limit_analysis = credit_data.groupby('credit_limit_category').agg({
    'count_nonfraud_trx_L6M': 'mean',
    'amt_nonfraud_trx_L6M': 'mean',
    'count_fraud_trx_L6M': 'mean',
    'amt_fraud_trx_L6M': 'mean',
    'DTI': 'mean'
}).reset_index()

# Calculate fraud rate by credit limit
credit_limit_analysis['fraud_rate'] = (
    credit_limit_analysis['amt_fraud_trx_L6M'] / 
    (credit_limit_analysis['amt_nonfraud_trx_L6M'] + credit_limit_analysis['amt_fraud_trx_L6M'])
) * 100

# Convert amounts to millions for better visualization
credit_limit_analysis['avg_nonfraud_amount_million'] = credit_limit_analysis['amt_nonfraud_trx_L6M'] / 1e6
credit_limit_analysis['avg_fraud_amount_million'] = credit_limit_analysis['amt_fraud_trx_L6M'] / 1e6

print("Credit Limit Analysis Summary:")
print(credit_limit_analysis[['credit_limit_category', 'fraud_rate', 'avg_nonfraud_amount_million', 'DTI']])

# Create visualization
fig = go.Figure()

# Add bars for transaction amounts
fig.add_trace(go.Bar(
    x=credit_limit_analysis['credit_limit_category'],
    y=credit_limit_analysis['avg_nonfraud_amount_million'],
    name='Avg Non-Fraud Amount (Million)',
    marker_color='lightgreen',
    yaxis='y1'
))

fig.add_trace(go.Bar(
    x=credit_limit_analysis['credit_limit_category'],
    y=credit_limit_analysis['avg_fraud_amount_million'],
    name='Avg Fraud Amount (Million)',
    marker_color='red',
    yaxis='y1'
))

# Add line for fraud rate
fig.add_trace(go.Scatter(
    x=credit_limit_analysis['credit_limit_category'],
    y=credit_limit_analysis['credit_limit_category'],
    name='Fraud Rate (%)',
    mode='lines+markers',
    marker=dict(color='orange', size=10),
    line=dict(width=3),
    yaxis='y2'
))

fig.update_layout(
    title='Transaction Behavior & Fraud Rate by Credit Limit Category',
    xaxis_title='Credit Limit Category',
    yaxis=dict(
        title='Transaction Amount (Million IDR)',
        side='left'
    ),
    yaxis2=dict(
        title='Fraud Rate (%)',
        overlaying='y',
        side='right'
    ),
    barmode='group',
    legend=dict(x=1.02, y=0.5, xanchor='left', yanchor='middle')
)

fig.show()</code></pre>
                </div>
              </div>

              <div class="chip" role="listitem" tabindex="0" aria-haspopup="dialog" aria-label="Calculation">
                üìä Calculation
                <div class="popover" role="dialog" aria-hidden="true">
                  <div class="title">Credit Limit Analysis Metrics</div>
                  <div class="calc-scroll">
                    <div class="calc-inner">
                      <div class="math-formula">
                        <h4>Credit Limit Analysis Statistics:</h4>
                        <table style="width: 100%; border-collapse: collapse; margin: 15px 0; font-size: 14px;">
                          <thead>
                            <tr style="background: var(--accent-300);">
                              <th style="padding: 10px; border: 1px solid #ddd; text-align: center; font-weight: 600;">Credit Limit Category</th>
                              <th style="padding: 10px; border: 1px solid #ddd; text-align: center; font-weight: 600;">Avg Non-Fraud Amount (Million IDR)</th>
                              <th style="padding: 10px; border: 1px solid #ddd; text-align: center; font-weight: 600;">Avg Fraud Amount (Million IDR)</th>
                              <th style="padding: 10px; border: 1px solid #ddd; text-align: center; font-weight: 600;">Fraud Rate (%)</th>
                              <th style="padding: 10px; border: 1px solid #ddd; text-align: center; font-weight: 600;">Avg DTI</th>
                            </tr>
                          </thead>
                          <tbody>
                            <tr>
                              <td style="padding: 10px; border: 1px solid #ddd; text-align: center; font-weight: 500;">Low (‚â§50M)</td>
                              <td style="padding: 10px; border: 1px solid #ddd; text-align: center;">45.2</td>
                              <td style="padding: 10px; border: 1px solid #ddd; text-align: center;">0.8</td>
                              <td style="padding: 10px; border: 1px solid #ddd; text-align: center;">1.74</td>
                              <td style="padding: 10px; border: 1px solid #ddd; text-align: center;">0.28</td>
                            </tr>
                            <tr>
                              <td style="padding: 10px; border: 1px solid #ddd; text-align: center; font-weight: 500;">Medium (50M-100M)</td>
                              <td style="padding: 10px; border: 1px solid #ddd; text-align: center;">78.6</td>
                              <td style="padding: 10px; border: 1px solid #ddd; text-align: center;">1.2</td>
                              <td style="padding: 10px; border: 1px solid #ddd; text-align: center;">1.50</td>
                              <td style="padding: 10px; border: 1px solid #ddd; text-align: center;">0.25</td>
                            </tr>
                            <tr>
                              <td style="padding: 10px; border: 1px solid #ddd; text-align: center; font-weight: 500;">High (100M-200M)</td>
                              <td style="padding: 10px; border: 1px solid #ddd; text-align: center;">156.3</td>
                              <td style="padding: 10px; border: 1px solid #ddd; text-align: center;">2.1</td>
                              <td style="padding: 10px; border: 1px solid #ddd; text-align: center;">1.33</td>
                              <td style="padding: 10px; border: 1px solid #ddd; text-align: center;">0.22</td>
                            </tr>
                            <tr>
                              <td style="padding: 10px; border: 1px solid #ddd; text-align: center; font-weight: 500;">Very High (200M-500M)</td>
                              <td style="padding: 10px; border: 1px solid #ddd; text-align: center;">298.7</td>
                              <td style="padding: 10px; border: 1px solid #ddd; text-align: center;">3.8</td>
                              <td style="padding: 10px; border: 1px solid #ddd; text-align: center;">1.25</td>
                              <td style="padding: 10px; border: 1px solid #ddd; text-align: center;">0.19</td>
                            </tr>
                            <tr>
                              <td style="padding: 10px; border: 1px solid #ddd; text-align: center; font-weight: 500;">Premium (>500M)</td>
                              <td style="padding: 10px; border: 1px solid #ddd; text-align: center;">512.4</td>
                              <td style="padding: 10px; border: 1px solid #ddd; text-align: center;">6.2</td>
                              <td style="padding: 10px; border: 1px solid #ddd; text-align: center;">1.19</td>
                              <td style="padding: 10px; border: 1px solid #ddd; text-align: center;">0.15</td>
                            </tr>
                          </tbody>
                        </table>
                      </div>
                    </div>
                  </div>
                </div>
              </div>
            </div>

            <!-- Credit Limit Analysis Chart -->
            <div style="text-align: center; margin: 30px 0;">
              <div style="max-width: 800px; margin: 0 auto; padding: 20px;">
                <div style="font-weight: 700; font-size: 16px; color: var(--ink); margin-bottom: 20px;">Total Credit Limit by User Age</div>
                <!-- Credit Limit Chart -->
                <iframe src="assets/Creditlimitbyage (1).html" width="100%" height="500" style="border:none;"></iframe>
              </div>
            </div>

            <div class="insights-box">
              <div class="subsec-title" style="margin:0; color: var(--accent-600);">Key Insights</div>
              <div style="text-align: justify; line-height: 1.6;">
                <div style="margin-bottom: 12px;">
                  <div>The line chart shows that credit limits peak between ages 45‚Äì60 and decline afterward, while younger users receive smaller limits. This reflects a reasonable risk approach, since middle aged customers typically have higher income stability, whereas younger and older groups face more uncertain earnings.</div>
                </div>
                <div>
                  <div>RevoBank could refine this by tailoring credit products to each age group such as starter cards with gradual limit increases tied to repayment for young adults, premium rewards for mid career professionals, and secured or specialized low risk cards for retirees. This strategy maintains sound risk management while improving customer growth, retention, and profitability.</div>
                </div>
              </div>
            </div>

          </div>
        </div>

        <h2 class="section-title">Conclusion and Recommendation</h2>
        <div class="card eda-card">
          <div class="card-body">
            
            <div class="insights-box">
              <div class="subsec-title" style="margin:0; color: var(--accent-600);">Conclusion</div>
              <div style="text-align: justify; line-height: 1.6;">
                <div style="margin-bottom: 12px;">
                  <div style="font-weight: 700; color: var(--ink); margin-bottom: 6px;">Revenue & Fraud Impact:</div>
                  <div>The bank generated substantial net profit from transaction fees, with fraud losses accounting for a measurable portion of income. The low overall fraud rate demonstrates that current controls are effective.</div>
                </div>
                <div style="margin-bottom: 12px;">
                  <div style="font-weight: 700; color: var(--ink); margin-bottom: 6px;">Customer Segmentation Insights:</div>
                  <div>Transaction patterns reveal distinct behaviors among card brands and customer profiles, distinguishing premium customers (JCB, Amex) from mass market users (Visa, Mastercard).</div>
                </div>
                <div style="margin-bottom: 12px;">
                  <div style="font-weight: 700; color: var(--ink); margin-bottom: 6px;">Financial Risk Assessment:</div>
                  <div>Debt-to-income ratios and credit scores highlight higher financial risk among retired users and lower scoring customers, while age and credit limits indicate predictable patterns in credit utilization.</div>
                </div>
                <div style="margin-bottom: 12px;">
                  <div style="font-weight: 700; color: var(--ink); margin-bottom: 6px;">Strategic Understanding:</div>
                  <div>These insights establish a foundation for understanding which customer segments contribute most to revenue, which are more exposed to fraud, and how transaction behavior varies across demographics.</div>
                </div>
                <div>
                  <div style="font-weight: 700; color: var(--ink); margin-bottom: 6px;">Overall Assessment:</div>
                  <div>Overall, the findings provide a comprehensive understanding of revenue drivers, fraud exposure, and customer segmentation, fulfilling the project's objective of analyzing transaction and fraud data to support RevoBank's growth and risk management strategies.</div>
                </div>
              </div>
            </div>

            <div style="margin-top: 30px;">
              <div class="subsec-title" style="margin:0 0 25px 0; color: var(--accent-600);">Recommendations</div>
              
              <div style="display: grid; grid-template-columns: 1fr 1fr; gap: 20px; margin-bottom: 20px;">
                
                <!-- Card 1: Targeted Customer Strategies -->
                <div style="background: white; border-radius: 12px; padding: 24px; box-shadow: 0 4px 20px rgba(0,0,0,0.1); border: 1px solid rgba(0,0,0,0.05);">
                  <div style="font-size: 32px; margin-bottom: 16px; text-align: center;">üéØ</div>
                  <div style="font-weight: 700; font-size: 18px; color: var(--ink); margin-bottom: 16px; text-align: center;">Targeted Customer Strategies</div>
                  <div style="color: var(--ink); line-height: 1.6; font-size: 14px; text-align: justify;">
                    <div style="margin-bottom: 12px;"><strong>Premium Customers:</strong> Focus on JCB and Amex holders with exclusive promotions, rewards programs, or high value perks to drive higher spending.</div>
                    <div><strong>Mass Market Customers:</strong> Use Visa and Mastercard to implement cashback, discounts, and installment plans, encouraging frequent usage while balancing fraud monitoring.</div>
                  </div>
                </div>
                
                <!-- Card 2: Fraud Prevention & Risk Management -->
                <div style="background: white; border-radius: 12px; padding: 24px; box-shadow: 0 4px 20px rgba(0,0,0,0.1); border: 1px solid rgba(0,0,0,0.05);">
                  <div style="font-size: 32px; margin-bottom: 16px; text-align: center;">üõ°Ô∏è</div>
                  <div style="font-weight: 700; font-size: 18px; color: var(--ink); margin-bottom: 16px; text-align: center;">Fraud Prevention & Risk Management</div>
                  <div style="color: var(--ink); line-height: 1.6; font-size: 14px; text-align: justify;">
                    <div style="margin-bottom: 12px;">Enhance AI driven fraud detection and real time transaction monitoring, particularly for high volume brands such as Visa and Mastercard.</div>
                    <div>Maintain proactive measures for segments with higher financial risk, such as retired users or customers with lower credit scores.</div>
                  </div>
                </div>
                
                <!-- Card 3: Credit Product Optimization -->
                <div style="background: white; border-radius: 12px; padding: 24px; box-shadow: 0 4px 20px rgba(0,0,0,0.1); border: 1px solid rgba(0,0,0,0.05);">
                  <div style="font-size: 32px; margin-bottom: 16px; text-align: center;">‚öôÔ∏è</div>
                  <div style="font-weight: 700; font-size: 18px; color: var(--ink); margin-bottom: 16px; text-align: center;">Credit Product Optimization</div>
                  <div style="color: var(--ink); line-height: 1.6; font-size: 14px; text-align: justify;">
                    <div style="margin-bottom: 12px;">Align credit limits and card features with age and income profiles: starter cards for young adults, premium rewards for mid career professionals, and secured/low risk cards for retirees.</div>
                    <div>Periodically review credit utilization patterns to ensure limits reflect customer repayment capacity and minimize exposure.</div>
                  </div>
                </div>
                
                <!-- Card 4: Data-Driven Marketing & Engagement -->
                <div style="background: white; border-radius: 12px; padding: 24px; box-shadow: 0 4px 20px rgba(0,0,0,0.1); border: 1px solid rgba(0,0,0,0.05);">
                  <div style="font-size: 32px; margin-bottom: 16px; text-align: center;">üìä</div>
                  <div style="font-weight: 700; font-size: 18px; color: var(--ink); margin-bottom: 16px; text-align: center;">Data Driven Marketing & Engagement</div>
                  <div style="color: var(--ink); line-height: 1.6; font-size: 14px; text-align: justify;">
                    <div style="margin-bottom: 12px;">Segment customers based on transaction behavior, credit scores, and DTI ratios to deliver personalized campaigns.</div>
                    <div>Monitor the effectiveness of targeted promotions and adjust strategies to maximize revenue growth while reducing fraud related losses.</div>
                  </div>
                </div>
                
              </div>
            </div>
          </div>
        </div>
      </section>

      <footer> Thank you.</footer>
    </main>

    <script>
      (function () {
        var tabButtons = Array.prototype.slice.call(document.querySelectorAll('.tab-list .tab'));
        var panels = {};
        tabButtons.forEach(function (btn) {
          var panelId = btn.getAttribute('aria-controls');
          panels[btn.id] = document.getElementById(panelId);
        });
        var panelsWrap = document.querySelector('.tab-panels');

        function setHeightFromBackground() {
          var bg = document.getElementById('panel-background');
          var wasHidden = bg.hidden;
          if (wasHidden) bg.hidden = false;
          var h = bg.scrollHeight;
          if (wasHidden) bg.hidden = true;
          panelsWrap.style.height = h + 'px';
        }

        function activate(button) {
          tabButtons.forEach(function (b) {
            b.classList.remove('is-active');
            b.setAttribute('aria-selected', 'false');
            var p = panels[b.id];
            if (p) p.hidden = true;
          });
          button.classList.add('is-active');
          button.setAttribute('aria-selected', 'true');
          var current = panels[button.id];
          if (current) current.hidden = false;
        }

        function debounce(fn, wait) {
          var t;
          return function () { clearTimeout(t); t = setTimeout(fn, wait); };
        }

        tabButtons.forEach(function (btn, idx) {
          btn.addEventListener('click', function () { activate(btn); });
          btn.addEventListener('keydown', function (e) {
            if (e.key === 'ArrowRight' || e.key === 'ArrowLeft') {
              e.preventDefault();
              var dir = e.key === 'ArrowRight' ? 1 : -1;
              var next = (idx + dir + tabButtons.length) % tabButtons.length;
              activate(tabButtons[next]);
              tabButtons[next].focus();
            }
          });
        });

        window.addEventListener('load', setHeightFromBackground);
        window.addEventListener('resize', debounce(setHeightFromBackground, 150));
        setTimeout(setHeightFromBackground, 300);
      })();
    </script>

    <!-- Prism JS (syntax highlighting) -->
    <script src="https://cdn.jsdelivr.net/npm/prismjs/prism.min.js"></script>
    <script src="https://cdn.jsdelivr.net/npm/prismjs/components/prism-python.min.js"></script>
    <!-- MathJax (LaTeX rendering) -->
    <script id="MathJax-script" async src="https://cdn.jsdelivr.net/npm/mathjax@3/es5/tex-mml-chtml.js"></script>
    
    <!-- DTI Chart Script -->
    <script src="assets/dti-chart-script.html"></script>
    
      </script>
     
    </body>
    </html>
